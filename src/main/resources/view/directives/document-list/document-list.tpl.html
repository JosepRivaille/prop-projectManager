<md-content id="document-list" class="fill-all-parent">

    <div ng-show="isListSelected" class="fill-all-parent">
        <h1 class="title-landing" layout-align="space-between center">
            {{parentTitle | translate}}
        </h1>
        <md-list ng-if="parent!='all'" style="padding-bottom: 130px;" class="scrollable-y" flex>
            <md-list-item ng-repeat="document in documents">
                <md-button class="docs-list-item" ng-click="selectDocument(document)">
                    <div layout="row"  layout-align="space-between center" style="height: 100%;">
                        <div class="item-image-container">
                            <img class="item-image" ng-src="../../../covers/{{document.cover}}">
                        </div>
                        <div flex class="item-info-container" layout="column" layout-align="space-between start">
                            <h1>
                                {{document.title}}
                                <i ng-if="isDocFavourite(document)"class="fa fa-heart" style="color: #c9302c;"></i>
                            </h1>
                            <h2>{{document.author}}</h2>

                            <star-rating ng-model="document.rating" read-only="true"></star-rating>
                        </div>

                        <div ng-if="isEditMode" class="item-buttons-container" layout="row" layout-align="center center">
                            <md-button onclick="location.href = event.stopPropagation();" class="md-raised md-primary" aria-label="Edit document"
                                       ng-click="editDocument(document)">
                                <i class="fa fa-pencil-square-o"></i>
                            </md-button>
                            <md-button onclick="location.href = event.stopPropagation();" class="md-raised md-warn" aria-label="Delete document"
                                       ng-click="showDeleteConfirm($event, document)">
                                <i class="fa fa-trash"></i>
                            </md-button>
                        </div>

                        <div ng-if="parent=='favorites'" class="item-buttons-container" layout="row" layout-align="center center">
                            <md-button onclick="location.href = event.stopPropagation();" ng-click="removeFavourite(document)" class="md-raised md-warn" aria-label="Remove favourite">
                                <i class="fa fa-heartbeat"></i>
                            </md-button>
                        </div>

                    </div>
                </md-button>
                <md-divider></md-divider>
            </md-list-item>
        </md-list>

        <md-grid-list ng-if="parent=='all'" style="padding-bottom: 130px;" class="scrollable-y" md-cols="2" md-gutter="0px" md-row-height="85px" flex>
            <md-grid-tile ng-repeat="document in documents">
                <md-button class="docs-grid-item" ng-click="selectDocument(document)">
                    <div layout="row"  layout-align="space-between center" style="height: 100%; width: 100%">
                        <div class="item-image-container">
                            <img class="item-image" ng-src="../../../covers/{{document.cover}}">
                        </div>
                        <div flex class="item-info-container" layout="column" layout-align="space-between start">
                            <h1>
                                {{document.title}}
                                <!--<img ng-if="isDocFavourite(document)" ng-src="../images/heart.png" style="height: 13px; margin-bottom: 2px;">-->
                                <i ng-if="isDocFavourite(document)" class="fa fa-heart" style="color: #c9302c;"></i>
                            </h1>
                            <h2>{{document.author}}</h2>

                            <star-rating ng-model="document.rating" read-only="true"></star-rating>
                        </div>
                    </div>
                </md-button>
                <md-divider></md-divider>
            </md-grid-tile>
        </md-grid-list>

        <div ng-if="isSearchMode" class="right-bottom-buttons">
            <md-button class="md-fab md-primary" aria-label="Repeat Search" ng-click="searchAgain()">
                <i class="fa fa-search"></i>
            </md-button>
        </div>

    </div>

    <div ng-if="!isListSelected && isEditMode && isCreateOrUpdate" class="no-scrollable fill-all-window">
        <md-content class="md-no-momentum fill-all-parent" layout="column">
            <div style="height: auto">
                <h1 class="title-landing" layout-align="start center">
                    {{title | translate}}
                </h1>
            </div>
            <div style="position: relative; padding: 40px;" layout="row" layout-align="center none" flex>
                <form name="documentForm" layout="column" layout-align="space-between none" style="width:100%;">
                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex-gt-sm="">
                            <label>Document title</label>
                            <input ng-model="documentSelected.title" type="text" ng-required="true">
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="">
                            <label>Author name</label>
                            <input ng-model="documentSelected.author" type="text" ng-required="true">
                        </md-input-container>
                    </div>
                    <div layout="row" layout-align="start none" flex>
                        <md-input-container class="md-block" style="width: 100%; overflow-y: auto;">
                            <label>Content</label>
                            <textarea class="document-content-textarea" ng-model="documentSelected.content" rows="7"
                                      ng-required="true">

                            </textarea>
                        </md-input-container>
                    </div>

                    <p ng-show="isInvalidData !== undefined" class="error-text">{{isInvalidData | translate}}</p>

                    <div layout="row" layout-align="space-between none">

                        <div layout="row" layout-align="start center">
                            <md-button class="md-raised md-primary" ng-click="selectImage()">
                                <i class="fa fa-picture-o"></i>
                            </md-button>
                            <p id="selectedImageLabel">{{fileName}}</p>
                        </div>

                        <div flex layout="row" layout-align="end end">
                            <md-button layout-align="center center" class="md-raised md-primary" ng-click="backToList()">
                                <i class="fa fa-chevron-left"></i>
                            </md-button>
                            <md-button ng-disabled="documentForm.$invalid" layout-align="center center"
                                       class="md-raised md-primary" ng-click="storeDocument($event)">
                                <i class="fa fa-save"></i>
                            </md-button>
                        </div>
                    </div>
                </form>
            </div>
        </md-content>
    </div>

    <div ng-if="isListSelected && isEditMode" class="right-bottom-buttons" layout="column" layout-align="center center" flex>

        <md-fab-speed-dial md-open="isButtonOpened" md-direction="up" ng-class="'md-scale'"
                           ng-mouseenter="isButtonOpened = true" ng-mouseleave="isButtonOpened=false">
            <md-fab-trigger>
                <md-button aria-label="menu" class="md-fab md-primary">
                    <i class="fa fa-bars"></i>
                </md-button>
            </md-fab-trigger>

            <md-fab-actions>
                <md-button aria-label="Create document" class="md-fab md-raised md-mini md-accent"
                           ng-click="createDocument()">
                    <md-tooltip md-direction="left" md-visible="tooltipVisible"
                                md-autohide="true">
                        Create document
                    </md-tooltip>
                    <i class="fa fa-plus"></i>
                </md-button>
                <md-button aria-label="Import document" class="md-fab md-raised md-mini md-accent" ng-click="importDocument()">
                    <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="true">
                        Import document
                    </md-tooltip>
                    <i class="fa fa-upload"></i>
                </md-button>
            </md-fab-actions>
        </md-fab-speed-dial>
    </div>

    <div ng-if="isDocumentSelected">
        <div class="navigation-buttons-container">
            <md-button class="md-fab md-primary" aria-label="Go back" ng-click="back()">
                <i class="fa fa-arrow-left"></i>
            </md-button>
        </div>
        <document-info ng-model="documentSelected"></document-info>
    </div>

</md-content>

